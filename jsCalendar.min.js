/*! jsCalendar v1.4.3 | MIT License | https://github.com/GramThanos/jsCalendar */
var jsCalendar=function(){var e=function(e,t){var a=this;if(a._target=e,!a._target)throw new Error("Target element not found");if(a._target.length)throw new Error("Target must be a single element");if("string"==typeof a._target&&(a._target=document.querySelector(a._target)),!a._target)throw new Error("Target element not found");if(!a._target)throw new Error("Target element not found");if(a._target.jsCalendar)throw new Error("jsCalendar already attached to target element");a._target.jsCalendar=a,a._date=new Date,a._options={},a._months=["January","February","March","April","May","June","July","August","September","October","November","December"],a._days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a._days_aliases=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a._firstDayOfWeek=0,a._showWeeks=false,a._navigator=!0,a._navigatorIsInside=!0,a._navigationLeftArrow="&lt;",a._navigationRightArrow="&gt;",a._monthFormat="month YYYY",a._dayFormat="DD",a._dayTarget=null,a._fdotw=null,a._selected=[],a._events={},a._language="en",a._minDate=false,a._maxDate=false,a._month=a._date.getMonth(),a._year=a._date.getFullYear(),a._day=a._date.getDate(),a._onMonthRender=null,a._onDayRender=null,a._onDateSelected=null,a._onMonthChanged=null,a._onYearChanged=null,a._parseOptions(t),a._parseDate(a._options.date),a._create(),a._render(),a._renderSelectedDays(),a._renderEvents()};return e.prototype.construct=function(e,t){this.constructor(e,t)},e.prototype._parseOptions=function(e){var t=this;if(e)for(var a in e)switch(a.toLowerCase()){case"date":break;case"language":t._language=e[a];break;case"zero_fill":case"zerofill":t._options.zeroFill=e[a];break;case"monthformat":t._monthFormat=e[a];break;case"dayformat":t._dayFormat=e[a];break;case"target":t._options.target=e[a];break;case"navigator":t._navigator=!!e[a];break;case"navigatorinside":t._navigatorIsInside=!!e[a];break;case"navigationleftarrow":t._navigationLeftArrow=e[a];break;case"navigationrightarrow":t._navigationRightArrow=e[a];break;case"showweeks":t._showWeeks=!!e[a];break;case"firstdayofweek":parseInt(e[a])>0&&parseInt(e[a])<=7?t._firstDayOfWeek=parseInt(e[a])-1:t._firstDayOfWeek=0;break;case"onmonthrender":t._onMonthRender="function"==typeof e[a]?e[a]:t._onMonthRender;break;case"ondayrender":t._onDayRender="function"==typeof e[a]?e[a]:t._onDayRender;break;case"ondateselected":t._onDateSelected="function"==typeof e[a]?e[a]:t._onDateSelected;break;case"onmonthchanged":t._onMonthChanged="function"==typeof e[a]?e[a]:t._onMonthChanged;break;case"onyearchanged":t._onYearChanged="function"==typeof e[a]?e[a]:t._onYearChanged;break;case"mindate":t._minDate=false,e[a]&&t._parseDate(e[a])&&(t._minDate=t._date);break;case"maxdate":t._maxDate=false,e[a]&&t._parseDate(e[a])&&(t._maxDate=t._date);break;case"months":Array.isArray(e[a])&&12==e[a].length?t._months=e[a]:console.warn("jsCalendar: Months option is not a valid array.");break;case"days":Array.isArray(e[a])&&7==e[a].length?t._days=e[a]:console.warn("jsCalendar: Days option is not a valid array.");break;case"days_aliases":Array.isArray(e[a])&&7==e[a].length?t._days_aliases=e[a]:console.warn("jsCalendar: Days options is not a valid array.");break;default:console.warn('jsCalendar: Unknown option "'+a+'".')}},e.prototype._parseDate=function(e){var t=this;if(e)if(e instanceof Date)t._date=new Date(e.getTime());else if("string"==typeof e){var a=e.split("-");if(3==a.length){var n=parseInt(a[0]),r=parseInt(a[1]),s=parseInt(a[2]);if(!isNaN(n)&&!isNaN(r)&&!isNaN(s)){var i=new Date(n,r-1,s);isNaN(i)||t._setDate(i)}}else console.warn('jsCalendar: Cannot parse date string "'+e+'".')}},e.prototype._setDate=function(e){var t=this;if(!e instanceof Date)throw new Error("Invalid date");t._date=e,t._day=t._date.getDate(),t._month=t._date.getMonth(),t._year=t._date.getFullYear()},e.prototype._create=function(){var e=this;e._container=document.createElement("div"),e._container.className="jsCalendar",e._target.appendChild(e._container),e._title=document.createElement("div"),e._title.className="jsCalendar-title",e._container.appendChild(e._title),e._titleText=document.createElement("div"),e._titleText.className="jsCalendar-title-name",e._title.appendChild(e._titleText),e._table=document.createElement("table"),e._table.className="jsCalendar-table",e._container.appendChild(e._table),e._table_head=document.createElement("thead"),e._table.appendChild(e._table_head),e._table_body=document.createElement("tbody"),e._table.appendChild(e._table_body),e._createNav(),e._createMonths(),e._createDays()},e.prototype._createNav=function(){var e=this;if(e._navigator){e._navLeft=document.createElement("div"),e._navLeft.className="jsCalendar-nav-left",e._navLeft.innerHTML=e._navigationLeftArrow,e._navRight=document.createElement("div"),e._navRight.className="jsCalendar-nav-right",e._navRight.innerHTML=e._navigationRightArrow;var t=e._navigatorIsInside?e._title:e._container;t.appendChild(e._navLeft),t.appendChild(e._navRight),e._navLeft.addEventListener("click",function(t){e._previousMonth(),e._render()},!1),e._navRight.addEventListener("click",function(t){e._nextMonth(),e._render()},!1)}},e.prototype._createMonths=function(){var e=this;e._monthsView=document.createElement("div"),e._monthsView.className="jsCalendar-months",e._container.appendChild(e._monthsView),e._monthsView.style.display="none";for(var t=0;t<12;t++){var a=document.createElement("div");a.className="jsCalendar-months-cell",a.setAttribute("data-month",t),a.innerHTML=e._months[t],e._monthsView.appendChild(a)}e._titleText.addEventListener("click",function(t){e._showMonths()},!1),e._monthsView.addEventListener("click",function(t){var a=t.target.getAttribute("data-month");a&&!t.target.classList.contains("jsCalendar-months-cell-disabled")&&(e._month=parseInt(a),e._hideMonths(),e._render())},!1)},e.prototype._showMonths=function(){var e=this;e._monthsView.style.display="";for(var t=e._monthsView.querySelectorAll(".jsCalendar-months-cell"),a=0;a<t.length;a++)t[a].classList.remove("jsCalendar-months-cell-disabled");if(e._minDate&&e._minDate.getFullYear()==e._year)for(var a=0;a<e._minDate.getMonth();a++)t[a].classList.add("jsCalendar-months-cell-disabled");if(e._maxDate&&e._maxDate.getFullYear()==e._year)for(var a=e._maxDate.getMonth()+1;a<12;a++)t[a].classList.add("jsCalendar-months-cell-disabled")},e.prototype._hideMonths=function(){this._monthsView.style.display="none"},e.prototype._createDays=function(){var e=this;e._fdotw=e._firstDayOfWeek;var t=e._table_head.insertRow(-1),a=e._days.length,n=e._days_aliases.length;if(e._showWeeks){var r=document.createElement("th");r.className="jsCalendar-week-number",t.appendChild(r)}for(var s=0;s<a;s++){var i=t.insertCell(-1);i.innerHTML=e._days[(s+e._fdotw)%a],n>s&&(i.setAttribute("data-alias",e._days_aliases[(s+e._fdotw)%a]))}},e.prototype._render=function(){var e=this;e._renderTitle(),e._renderDays(),e._renderSelectedDays(),e._renderEvents(),e._onMonthRender&&"function"==typeof e._onMonthRender&&e._onMonthRender(e._month,e._year,e._container)},e.prototype._renderTitle=function(){var e=this;e._titleText.innerHTML=e._monthFormat.replace("month",e._months[e._month]).replace("YYYY",e._year).replace("YY",String(e._year).substring(2)),e._disableNav()},e.prototype._disableNav=function(){var e=this;if(e._navigator){e._navLeft.classList.remove("jsCalendar-nav-disabled"),e._navRight.classList.remove("jsCalendar-nav-disabled");var t=e._minDate&&e._minDate.getFullYear()>=e._year&&e._minDate.getMonth()>=e._month,a=e._maxDate&&e._maxDate.getFullYear()<=e._year&&e._maxDate.getMonth()<=e._month;t&&e._navLeft.classList.add("jsCalendar-nav-disabled"),a&&e._navRight.classList.add("jsCalendar-nav-disabled")}},e.prototype._renderDays=function(){var e=this;e._table_body.innerHTML="";var t=new Date(e._year,e._month),a=new Date(e._year,e._month+1,0),n=t.getDay()-e._fdotw;n<0&&(n+=7);var r=a.getDate(),s=e._table_body.insertRow(-1),i=1;if(e._showWeeks){var d=s.insertCell(-1);d.className="jsCalendar-week-number";var c=new Date(e._year,e._month,1);d.innerHTML=e._getWeekNumber(c)}for(var o=0;o<n;o++)s.insertCell(-1);for(var l=n;l<7;l++){var u=s.insertCell(-1);e._renderDay(u,i,l),i++}for(var m=1,g=e._days.length,h=i;h<=r;h++){m%g==0&&(s=e._table_body.insertRow(-1),e._showWeeks&&(d=s.insertCell(-1),d.className="jsCalendar-week-number",c=new Date(e._year,e._month,h),d.innerHTML=e._getWeekNumber(c))),u=s.insertCell(-1),e._renderDay(u,h,m%g),m++}if(m%g!=1)for(var y=m%g;y<g;y++)s.insertCell(-1)},e.prototype._renderDay=function(e,t,a){var n=this,r=new Date(n._year,n._month,t),s=r.toDateString(),i=new Date,d=i.toDateString();e.setAttribute("data-date",s),e.innerHTML=n._dayFormat.replace("DD",n._options.zeroFill?("0"+t).slice(-2):t);var c=n._minDate&&n._minDate>r,o=n._maxDate&&n._maxDate<r;c||o?(e.className="jsCalendar-day-disabled",e.innerHTML=n._dayFormat.replace("DD",n._options.zeroFill?("0"+t).slice(-2):t)):(e.className="jsCalendar-day",e.innerHTML=n._dayFormat.replace("DD",n._options.zeroFill?("0"+t).slice(-2):t),e.addEventListener("click",function(e){n._selectDate(this)},!1)),s==d&&(e.className=e.className+" jsCalendar-day-now"),n._onDayRender&&"function"==typeof n._onDayRender&&n._onDayRender(r,e.innerHTML,e)},e.prototype._selectDate=function(e){var t=this;t._dayTarget=e,t._setDate(new Date(e.getAttribute("data-date"))),t._renderSelectedDays(),t._renderEvents(),t._onDateSelected&&"function"==typeof t._onDateSelected&&t._onDateSelected(t._date,e,t._events[t._date.toDateString()])},e.prototype._renderSelectedDays=function(){var e=this;if(e._selected.length)for(var t=0;t<e._selected.length;t++)for(var a=e._table_body.querySelectorAll('[data-date="'+e._selected[t].toDateString()+'"]'),n=0;n<a.length;n++)a[n].classList.add("jsCalendar-day-selected")},e.prototype._renderEvents=function(){var e=this;if(e._events)for(var t in e._events)if(e._events.hasOwnProperty(t))for(var a=e._table_body.querySelectorAll('[data-date="'+t+'"]'),n=0;n<a.length;n++)a[n].classList.add("jsCalendar-day-event")},e.prototype._getWeekNumber=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),a=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-a);var n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)},e.prototype._previousMonth=function(){var e=this;if(e._minDate&&e._minDate.getFullYear()>=e._year&&e._minDate.getMonth()>=e._month)return;e._month--,e._month<0&&(e._year--,e._month=11,e._onYearChanged&&"function"==typeof e._onYearChanged&&e._onYearChanged(e._year)),e._onMonthChanged&&"function"==typeof e._onMonthChanged&&e._onMonthChanged(e._month,e._year)},e.prototype._nextMonth=function(){var e=this;if(e._maxDate&&e._maxDate.getFullYear()<=e._year&&e._maxDate.getMonth()<=e._month)return;e._month++,e._month>11&&(e._year++,e._month=0,e._onYearChanged&&"function"==typeof e._onYearChanged&&e._onYearChanged(e._year)),e._onMonthChanged&&"function"==typeof e._onMonthChanged&&e._onMonthChanged(e._month,e._year)},e.prototype.refresh=function(e){var t=this;e&&t._parseDate(e),t._render()},e.prototype.reset=function(){var e=this;e._setDate(new Date),e._render()},e.prototype.show=function(){var e=this;e._target.style.display=""},e.prototype.hide=function(){var e=this;e._target.style.display="none"},e.prototype.isBusy=function(){return!1},e.prototype.select=function(e){var t=this;if(Array.isArray(e))t._selected=e;else{if(!e||"string"!=typeof e&&!(e instanceof Date))return void(t._selected=[]);t._selected=[e]}t._parseSelectedDates(),t._renderSelectedDays()},e.prototype._parseSelectedDates=function(){var e=this;if(e._selected.length)for(var t=0;t<e._selected.length;t++)e._selected[t]instanceof Date?e._selected[t]=new Date(e._selected[t].getTime()):e._selected[t]=new Date(e._selected[t])},e.prototype.addEvents=function(e){var t=this;if(Array.isArray(e))t._events={},e.forEach(function(e){e instanceof Date?t._events[e.toDateString()]=!0:t._events[new Date(e).toDateString()]=!0});else{if(!e||"string"!=typeof e&&!(e instanceof Date))return void(t._events={});t._events={},t._events[e instanceof Date?e.toDateString():new Date(e).toDateString()]=!0}t._renderEvents()},e.prototype.setLanguage=function(e){var t=this;t._language=e,t._render()},e.prototype.setMonth=function(e){var t=this;if((e=parseInt(e))>=0&&e<=11&&(t._month=e,t._render()),e<0||e>11)throw new Error("Invalid month number")},e.prototype.setYear=function(e){var t=this;if((e=parseInt(e))>=0&&e<=9999&&(t._year=e,t._render()),e<0||e>9999)throw new Error("Invalid year number")},e.prototype.clearselect=function(){var e=this;e._selected=[],e._renderSelectedDays()},e.prototype.clearevents=function(){var e=this;e._events={},e._renderEvents()},e.prototype.getselected=function(){return this._selected},e.prototype.getevents=function(){return this._events},e.prototype.getdate=function(){return this._date},e.prototype.getmonth=function(){return this._month},e.prototype.getyear=function(){return this._year},e.prototype.toString=function(){return this._date.toDateString()},e.prototype.gettarget=function(){return this._target},e.prototype.getcalendartarget=function(){return this._container},e.prototype.getdaytarget=function(){return this._dayTarget},e.prototype.setdate=function(e){return this.refresh(e)},e.prototype.next=function(e){return this._nextMonth(),this._render()},e.prototype.previous=function(e){return this._previousMonth(),this._render()},e.prototype.goto=function(e){return this.refresh(e)},e.prototype.jsCalendar=e,e.tools={},e.tools.parseDate=function(e){if(e instanceof Date)return new Date(e.getTime());if("string"==typeof e){var t=e.split("-");if(3==t.length){var a=parseInt(t[0]),n=parseInt(t[1]),r=parseInt(t[2]);if(!isNaN(a)&&!isNaN(n)&&!isNaN(r)){var s=new Date(a,n-1,r);if(!isNaN(s))return s}}}return null},e.tools.formatDate=function(e,t){if(e instanceof Date||(e=new Date(e)),isNaN(e))throw new Error("Invalid date format");t||(t="YYYY-MM-DD");var a=e.getFullYear(),n=e.getMonth(),r=e.getDate(),s=e.getDay();return t.replace("YYYY",a).replace("YY",a.toString().substring(2)).replace("MM",("0"+(n+1)).slice(-2)).replace("M",n+1).replace("DD",("0"+r).slice(-2)).replace("D",r).replace("w",s)},e.tools.getWeekNumber=function(t){return new e(document.createElement("div"))._getWeekNumber(t)},e.prototype.languages={},e.prototype.languages.en={months:["January","February","March","April","May","June","July","August","September","October","November","December"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_aliases:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},e.prototype.languages.ar={months:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],days:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"],days_aliases:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"]},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:"undefined"!=typeof window&&(window.jsCalendar=e),e}();